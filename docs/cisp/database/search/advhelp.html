<html>
<head>
<title>CISP Search - Help</title>
</head>
<body>
<center><h1>CISP Search - Help</h1></center>

<h2>Searching for Sites, Stones and Inscriptions</h2>

The CISP search facility provides the means to search the database for
items matching a variety of criteria, and will present the results in
one of several formats.

<h2>The Search Form</h2>
The fields to be displayed, and, optionally, the filter criteria, are
entered using the search form. This has a collection of pull down menus
to select tables, fields and options; text fields to specify numeric
ranges, and sections for specifying free-text searches. 
<p>
By default, there
are three rows of multiple select choices, each with three filter menus;
three numeric range rows, and a single free text search section. If this
is inadequate, a larger search form may be generated by using the Custom
Search panel at the bottom.

<h4>Multiple Choice Rows</h4>
These rows are used for display and selection of table fields which contain
a defined set of values. Use as follows:
<ol>
<li>Select a table from the <b>Table</b> column.
<li>Select a field from the <b>Field</b> column.
<li>Optionally, select one or more values from the <b>Selection Criteria</b>
menus. If no values are selected, then results will not be filtered on this
field. If values are selected, the results will include only items which
match any of the selected values.
<li>Tick/untick the <b>EX</b> box. This inverts the sense of the search, so 
that, if ticked, the results will include only items which do not match any
of the selection criteria.
<li>Tick/untick the <b>SH</b> box. This determines whether this field will
be displayed in the output. If unticked, the field will not be displayed,
although filtering will still take place if selction values were specified.
</ol>
Repeat this for as many multiple choice rows as necessary. If selection 
criteria are specified for more than one row, the results will contain
only items which match all selection rows.

<h4>Range Rows</h4>

These rows are used to display and filter table fields which contain numeric
information.
<ol>
<li>The <b>Table</b>, <b>Field</b>, <b>SH</b> and <B>EX</b> boxes work as
above.
<li>If you wish to filter the selected field, enter a range specification
into the box provided. This must be of the following form:
<table>
<tr><th align=left>1939<td>field has the exact value
<tr><th align=left>&lt; 1939<td>field is less than or equal to value
<tr><th align=left>&gt; 1939<td>field is greater than or equal to value
<tr><th align=left>1939 - 1945<td>field is between the two values (inclusive)
</table>
the above forms may be combined using commas:
<table>
<tr><th align=left>1914 - 1918 , 1939 - 1945 , 1066<td>matches any of the three
</table>
Numbers may contain the decimal point.
</ol>
<h4>Free Text Sections</h4>

These rows are used to specify free text searches for matching words in the
narrative and otherwise uncategorisable fields of the database. These fields
have been indexed under several predefined categories:
<ul>
<table>
<tr><th align=left>SITE<td>text relevant to the site
<tr><th align=left>STONE<td>text relevant to the stone
<tr><th align=left>INSCRIP<td>text relevant to the inscription, but not the
text thereof
<tr><th align=left>READING<td>the text of the inscription, plus the translation
</table>
</ul>
One or more of these may be selected from the <b>Categories</b> 
column.
<p>
Words to be matched are entered into the <b>Search Words</b> box. Free text
searching proceeds according to the following rules:
<ul>
<li>Case is insignificant
<li>All non-alphabetic input is ignored (eg numbers and punctuation)
<li>The following wildcards are permitted:
<ul>
<table>
<tr><th align=left>?<td> - matches a single character
<tr><th align=left>*<td> - matches zero or more characters
</table>
</ul>
It is inadvisable for a search word to begin with a wildcard.
</ul>
Each search word may be prefixed by a qualifier as follows:
<ul>
 <table>
<tr><th align=left>+<td>item must contain this word
<tr><th align=left>-<td>item must NOT contain this word
</table>
</ul>
All the unprefixed words are alternatives. A matching item must contain
at least one of the alternatives, thus:
<ul><kbd>
+LAUREL WILSON -ABBOT +HARDY KEPPEL -COSTELLO BETTY
</kbd></ul>
means that, in order to match, an item must contain LAUREL and HARDY, must 
contain at least one of WILSON KEPPEL or BETTY, and must NOT contain
either ABBOT or COSTELLO.
<p>
Click the <b>Search CISP Database</b> button on the form to perform the search,
and display the results on a separate page.

<h2>Output Of Results</h2>

The <b>Output Format</b> menu selects the desired form for the results:
<ul>
<table>
<tr><th>Table<td>The results are presented in tabular form. This is the
default.
<tr><th>CSV<td>The results are downloaded in comma separated form, suitable
for import into some othe database tool. (not yet implemented)

<tr><th>SQL<td>The database SQL statement used to query the database is displayed.
This may be useful for those who wish to run specialised queries against their
own copies of the database.
</table>
</ul>
<h4>Tabular Output</h4>

The results are presented in a table. The first two columns are always the same:
<ol>
<li><b>Key</b> The key field is a reference to either a SITE, STONE or INSCRIPTION.
The search procedure decides which one depending on the fields selected in the 
form. The lowest level field will be used as the key (INSCRIPTION being the
lowest, SITE the highest). 
<p>
<li><b>Site Name</b> The site name always appears as the second column.
</ol>
Subsequent columns depend on the fields selected for display in the form.
The key field is a link to the details page for the item.

<h5>Order of Results</h5>

The results are sorted according to the following rules:
<ol>
<li>If any Range fields are displayed, then order based on the first such
field. If not:
<li>If any multiple choice fields are displayed, then order based on the
first such field, If not:
<li>Order by the Site Name field.
</ol>

<h4>Show A Map Of The Results </h4>
If this box is ticked, a geographical map is displayed, with the selected items
marked. <em>(not yet implemented)</em>.